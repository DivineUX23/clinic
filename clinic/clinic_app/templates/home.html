{% extends 'base.html' %}
{% load static %}

{% block title %}JollyLife Health{% endblock %}
{% block description %}{% endblock %}
{% block keywords %}{% endblock %}

 
<!-- ================================
Start CSS
================================= -->
{% block extend_header %}{% endblock %}

<!-- ================================
End CSS
================================= -->
{% block extend_footer %}{% endblock %}

 
 <!-- ================================
  Start Content
  ================================= -->

{% block content %}


<!-- Body-->

<body class="toolbar-enabled">
    
    <span id="order_again_url" data-url=""></span>

    <!-- Sign in / sign up modal-->
        <!-- Navbar-->
    <!-- Quick View Modal-->
    <div class="modal-quick-view modal fade" id="quick-view" tabindex="-1">
    <div class="modal-dialog modal-xl">
        <div class="modal-content" id="quick-view-modal">

        </div>
    </div>
</div>
    <!-- Navbar Electronics Store-->

    <style>
        .for-count-value {
            color: #800080;
        }
    
        .count-value {
            color: #800080;
        }
    
        @media (min-width: 768px) {
            .navbar-stuck-menu {
                background-color: #800080;
            }
        }
    
        @media (max-width: 767px) {
            .search_button .input-group-text i {
                color: #800080 !important;
            }
    
            .mega-nav1 {
                color: #800080 !important;
            }
    
            .mega-nav1 .nav-link {
                color: #800080 !important;
            }
        }
    
        @media (max-width: 471px) {
            .mega-nav1 {
                color: #800080 !important;
            }
    
            .mega-nav1 .nav-link {
                color: #800080 !important;
            }
        }
    </style>


    
<!-- Page Content-->
<div class="__inline-61">
                <!-- Hero (Banners + Slider)-->
    <section class="bg-transparent">
            <div>
                <div class="px-0 home-carousel-container">
    <div class="hero-banner owl-carousel owl-theme h-full">
                <a href="" class="d-block h-full">
            <img class="w-100" onerror="this.src='https://medplusnig.com/public/assets/front-end/img/image-place-holder.png'"
                src="https://medplusnig.com/storage/app/public/banner/2024-08-05-66b1096a24d9c.webp" alt="">
        </a>
                <a href="" class="d-block h-full">
            <img class="w-100" onerror="this.src='https://medplusnig.com/public/assets/front-end/img/image-place-holder.png'"
                src="https://medplusnig.com/storage/app/public/banner/2024-06-28-667ea649437ab.webp" alt="">
        </a>
                <a href="" class="d-block h-full">
            <img class="w-100" onerror="this.src='https://medplusnig.com/public/assets/front-end/img/image-place-holder.png'"
                src="https://medplusnig.com/storage/app/public/banner/2024-08-05-66b1096a24d9c.webp" alt="">
        </a>
            </a>
        <a href="" class="d-block h-full">
            <img class="w-100" onerror="this.src='https://medplusnig.com/public/assets/front-end/img/image-place-holder.png'"
            src="https://medplusnig.com/storage/app/public/banner/2024-08-05-66b1096a24d9c.webp" alt="">
        </a>
            </div>
        </div>            
    </div>
    </section>



    <!-- New Arrival Section -->
<section class="container mx-auto py-12">
    <div class="flex items-center justify-between mb-4">
      <div class="text-[24px]">New Arrival</div>
      <!--'all_products'View All-->
      <a href="{% url 'products' %}">View All</a>
    </div>
    <div class="grid grid-cols-2 md:grid-cols-3 xl:grid-cols-5 gap-x-1.5 gap-y-5 md:gap-x-3.5 md:gap-y-12">
      
    {% for product in new_arrivals %}
    {% if product.available %}
      <form class="relative" id="form-{{ product.id }}">
        {% csrf_token %}
        <input type="hidden" name="product_id" value="{{ product.id }}">
        <input type="hidden" name="quantity" value="1" min="1" max="{{ product.stock }}">
  
        <div class="border border-[#75869D]/50 bg-white h-[200px] md:h-[230px] w-full flex items-center justify-center p-2.5 md:p-5 rounded-[14px] relative">
          <a href="{% url 'product_detail' product.slug %}" class="h-full">

            {% if product.image %}
                <img src="{{ product.image.url }}" alt="{{ product.name }}" onerror="this.src='https://medplusnig.com/public/assets/front-end/img/image-place-holder.png'" width="234" height="270" class="w-[234px] h-full object-contain"/>
            {% else %}
                <p>No image available</p>
            {% endif %}
            </a>
        </div>
  
        <div class="w-[160px] lg:w-[230px] mt-1.5 font-poppins text-[14px] md:text-base">
          <a href="{% url 'product_detail' product.slug %}" class="flash-product-title fw-semibold text-black">{{ product.name }}</a>
        </div>
  
        <div class="d-flex flex-wrap gap-8 align-items-center row-gap-0 text-black font-bold text-base md:text-xl my-1.5 md:my-2">
          <span class="flash-product-price text-dark fw-semibold">₦{{ product.price }}</span>
        </div>
  
        <div class="flex items-center text-sm md:text-base 2xl:text-xl whitespace-nowrap">
          <div class="flex items-center gap-1 md:gap-2">

            
            <a href="{% url 'product_detail' product.slug %}" class="h-10 text-[#75869D] border-[1px] border-[#75869D] transition duration-500 px-[10px] md:px-5 flex items-center justify-center font-medium tracking-[0.18px] font-poppins rounded-md" role="button">
              View
            </a>

<button onclick="addTobeBought({{ product.id }})" type="button" class="h-10 text-white bg-purple btn-purple transition duration-500 px-[10px] md:px-5 flex items-center justify-center hover:text-white font-medium tracking-[0.18px] font-poppins rounded-md">Add To Cart</button>
          </div>
        </div>
      </form>
      {% endif %}
      {% endfor %}
    </div>
</section>
  

    <!-- Most Popular Section -->
<section class="container mx-auto py-12">

    <div class="flex items-center justify-between mt-12 mb-4">
      <div class="text-[24px]">Most Popular</div>
      <!--'all_products'View All-->
      <a href="{% url 'products' %}">View All</a>
    </div>
    <div class="grid grid-cols-2 md:grid-cols-3 xl:grid-cols-5 gap-x-1.5 gap-y-5 md:gap-x-3.5 md:gap-y-12">
      {% for product in most_popular %}
      {% if product.available %}

        <form class="relative" id="form-{{ product.id }}">
        {% csrf_token %}
        <input type="hidden" name="product_id" value="{{ product.id }}">
        <input type="hidden" name="quantity" value="1" min="1" max="{{ product.stock }}">
  
        <div class="border border-[#75869D]/50 bg-white h-[200px] md:h-[230px] w-full flex items-center justify-center p-2.5 md:p-5 rounded-[14px] relative">
          <a href="{% url 'product_detail' product.slug %}" class="h-full">
            <img src="{{ product.image.url }}" alt="{{ product.name }}" onerror="this.src='https://medplusnig.com/public/assets/front-end/img/image-place-holder.png'" width="234" height="270" class="w-[234px] h-full object-contain"/>
          </a>
        </div>
  
        <div class="w-[160px] lg:w-[230px] mt-1.5 font-poppins text-[14px] md:text-base">
          <a href="{% url 'product_detail' product.slug %}" class="flash-product-title fw-semibold text-black">{{ product.name }}</a>
        </div>
  
        <div class="d-flex flex-wrap gap-8 align-items-center row-gap-0 text-black font-bold text-base md:text-xl my-1.5 md:my-2">
          <span class="flash-product-price text-dark fw-semibold">₦{{ product.price }}</span>
        </div>
  
        <div class="flex items-center text-sm md:text-base 2xl:text-xl whitespace-nowrap">
          <div class="flex items-center gap-1 md:gap-2">
            
            <a href="{% url 'product_detail' product.slug %}" class="h-10 text-[#75869D] border-[1px] border-[#75869D] transition duration-500 px-[10px] md:px-5 flex items-center justify-center font-medium tracking-[0.18px] font-poppins rounded-md" role="button">
              View
            </a>
<button onclick="addTobeBought({{ product.id }})" type="button" class="h-10 text-white bg-purple btn-purple transition duration-500 px-[10px] md:px-5 flex items-center justify-center hover:text-white font-medium tracking-[0.18px] font-poppins rounded-md">Add To Cart</button>
          </div>
        </div>
      </form>
      {% endif %}
      {% endfor %}
    </div>
</section>
  



<!--FREQUENTLY ASKED QUESTIONS-->

    <section id="faq" class="py-10 container mx-auto">
      <div class="text-center text-xl md:text-[28px] mb-6">
        Frequently Asked Question
      </div>
                <div class="mt-3 faq-div">
            <button
              class="accordion-button bg-white border-[1px] border-[#75869D] rounded-[14px] py-[16px] px-[16px] flex items-center text-sm md:text-base justify-between w-full"
            >
              <span>GENERAL COMPANY INFORMATION</span>
              <img src="https://medplusnig.com/public/assets/front-end/img/arrow_down_circle.svg" alt="arrow" />
            </button>
            <div class="accordion-content hidden py-4 px-2">I have a question about one of your pharmaceutical products. Visit the Products Section on this Web site to find a list of many of our products. If you are a Customer seeking medical information about our prescription products, please contact us</div>
          </div>
                <div class="mt-3 faq-div">
            <button
              class="accordion-button bg-white border-[1px] border-[#75869D] rounded-[14px] py-[16px] px-[16px] flex items-center text-sm md:text-base justify-between w-full"
            >
              <span>What is JollyLife's phone number?</span>
              <img src="https://medplusnig.com/public/assets/front-end/img/arrow_down_circle.svg" alt="arrow" />
            </button>
            <div class="accordion-content hidden py-4 px-2">Call/Whatsapp - 08115174429</div>
          </div>
                <div class="mt-3 hidden extra-faq faq-div">
            <button
              class="accordion-button bg-white border-[1px] border-[#75869D] rounded-[14px] py-[16px] px-[16px] flex items-center text-sm md:text-base justify-between w-full"
            >
              <span>How do I find information about JollyLife Healthcare stores across Nigeria?</span>
              <img src="https://medplusnig.com/public/assets/front-end/img/arrow_down_circle.svg" alt="arrow" />
            </button>
            <div class="accordion-content hidden py-4 px-2">You can find information about JollyLife Healthcare stores by visiting the store locator on the Websites.</div>
          
                <div class="mt-3 hidden extra-faq faq-div">
            <button
              class="accordion-button bg-white border-[1px] border-[#75869D] rounded-[14px] py-[16px] px-[16px] flex items-center text-sm md:text-base justify-between w-full"
            >
              <span>WEB SITE FEEDBACK</span>
              <img src="https://medplusnig.com/public/assets/front-end/img/arrow_down_circle.svg" alt="arrow" />
            </button>
            <div class="accordion-content hidden py-4 px-2">Please use our contact form to report a Web site problem or make suggestions to improve the Medplus Web site. Although your message is important to us and we read all messages, you may not receive a personal reply due to the large volume of messages we receive. Go to Contact Us form</div>
          </div>
                <div class="mt-3 hidden extra-faq faq-div">
            <button
              class="accordion-button bg-white border-[1px] border-[#75869D] rounded-[14px] py-[16px] px-[16px] flex items-center text-sm md:text-base justify-between w-full"
            >
              <span>Product Information Contacts</span>
              <img src="https://medplusnig.com/public/assets/front-end/img/arrow_down_circle.svg" alt="arrow" />
            </button>
            <div class="accordion-content hidden py-4 px-2">Consumers who have general product-related questions, please call 0818-712-2408 Monday through Friday 9:00am to 6:00pm. If you are a Customer seeking medical information about our prescription products, please contact any of our nearest stores.</div>
          
            <div class="flex justify-center mt-4">
          <button id="viewMoreBtn" class="h-10 text-white bg-[#FF0077] transition duration-500 px-[10px] md:px-5 flex items-center justify-center hover:text-white hover:border-[#FF0077] hover:bg-[#FF0077] font-medium tracking-[0.18px] font-poppins rounded-md">View More</button>
      </div>
    </section>
    
    <!-- Footer-->
    
    <!-- Toolbar for handheld devices-->

    <!-- Back To Top Button-->
    <a class="btn-scroll-top btn-purple" href="#top" data-scroll>
        <span class="btn-scroll-top-tooltip text-muted font-size-sm mr-2">Top</span>
        <i class="btn-scroll-top-icon czi-arrow-up"></i>
    </a>
    
</body>


{% endblock %}
  <!-- ================================
  End Content
  ================================= -->


<div class="container mt-4">
  <div class="row">
      <!-- Product gallery-->
      <div class="col-lg-5 col-md-6 col-12">
          <div class="product-gallery">
              {% if product.image %}
                  <img src="{{ product.image.url }}" alt="{{ product.name }}">
              {% else %}
                  <img src="{% static 'img/placeholder.png' %}" alt="Product placeholder" class="img-fluid">
              {% endif %}
          </div>
      </div>

      <!-- Product details-->
      <div class="col-lg-7 col-md-6 col-12">
          <h1 class="mb-2">{{ product.name }}</h1>
          <p class="text-muted">Category: {{ product.get_category_display }}</p>
          <div class="mb-3">
              <span class="h3 font-weight-normal text-accent">₦{{ product.price }}</span>
          </div>
          <p class="mb-4">{{ product.description }}</p>

          <form id="add-to-cart-form">
              {% csrf_token %}
              <input type="hidden" name="product_id" value="{{ product.id }}">
              <div class="form-group">
                  <label for="quantity">Quantity:</label>
                  <input type="number" name="quantity" id="quantity" value="1" min="1" max="{{ product.stock }}" class="form-control" style="width: 100px;">
              </div>
              <button type="submit" class="btn btn-primary">Add to Cart</button>
          </form>
          <div id="cart-message" class="mt-2"></div>

          {% if product.stock > 0 %}
              <p class="text-success mt-2">In stock</p>
          {% else %}
              <p class="text-danger mt-2">Out of stock</p>
          {% endif %}
      </div>
  </div>

  <!-- Related products -->
  <div class="row mt-5">
      <div class="col-12">
          <h3>Related Products</h3>
      </div>
      {% for related_product in related_products %}
          <div class="col-lg-3 col-md-4 col-6 mt-3">
              <div class="card h-100">
                  {% if related_product.image %}
                      <img src="{{ related_product.image.url }}" class="card-img-top" alt="{{ related_product.name }}">
                  {% else %}
                      <img src="{% static 'img/placeholder.png' %}" class="card-img-top" alt="Product placeholder">
                  {% endif %}
                  <div class="card-body">
                      <h5 class="card-title">{{ related_product.name }}</h5>
                      <p class="card-text">₦{{ related_product.price }}</p>
                      <a href="{% url 'product_detail' related_product.slug %}" class="btn btn-sm btn-outline-secondary">View Details</a>
                  </div>
              </div>
          </div>
      {% endfor %}
  </div>
</div>

{% block extra_js %}
<script>
  $(document).ready(function() {
      $('#add-to-cart-form').on('submit', function(e) {
          e.preventDefault();
          $.ajax({
              type: 'POST',
              url: '{% url "add_to_cart" %}',
              data: $(this).serialize(),
              dataType: 'json',
              success: function(response) {
                  if (response.success) {
                      $('#cart-message').html('<div class="alert alert-success">Item added to cart successfully!</div>');
                      // Update cart count in navbar if you have one
                      $('#cart-count').text(response.cart_quantity);
                  } else {
                      $('#cart-message').html('<div class="alert alert-danger">Failed to add item to cart.</div>');
                  }
              },
              error: function() {
                  $('#cart-message').html('<div class="alert alert-danger">An error occurred. Please try again.</div>');
              }
          });
      });
  });
</script>
{% endblock %}
