{% extends 'base.html' %}
{% load static %}

{% block title %}Jolly Life Health{% endblock %}
{% block description %}{% endblock %}
{% block keywords %}{% endblock %}

 
<!-- ================================
Start CSS
================================= -->
{% block extend_header %}{% endblock %}

<!-- ================================
End CSS
================================= -->
{% block extend_footer %}{% endblock %}

 
 <!-- ================================
  Start Content
  ================================= -->

{% block content %}


<!-- Body-->

<body class="toolbar-enabled">
    
    <span id="order_again_url" data-url=""></span>

    <!-- Sign in / sign up modal-->
        <!-- Navbar-->
    <!-- Quick View Modal-->
    <div class="modal-quick-view modal fade" id="quick-view" tabindex="-1">
    <div class="modal-dialog modal-xl">
        <div class="modal-content" id="quick-view-modal">

        </div>
    </div>
</div>
    <!-- Navbar Electronics Store-->
    <style>
    .for-count-value {
        color: {
                {
                $web_config['primary_color']
            }
        }

        ;
    }

    .count-value {
        color: {
                {
                $web_config['primary_color']
            }
        }

        ;
    }

    @media (min-width: 768px) {
        .navbar-stuck-menu {
            background-color: {
                    {
                    $web_config['primary_color']
                }
            }

            ;
        }

    }

    @media (max-width: 767px) {
        .search_button .input-group-text i {
            color: {
                    {
                    $web_config['primary_color']
                }
            }

             !important;
        }

        .navbar-expand-md .dropdown-menu>.dropdown>.dropdown-toggle {
            padding- {
                    {
                    Session: :get('direction')==="rtl" ? 'left': 'right'
                }
            }

            : 1.95rem;
        }

        .mega-nav1 {
            color: {
                    {
                    $web_config['primary_color']
                }
            }

             !important;
        }

        .mega-nav1 .nav-link {
            color: {
                    {
                    $web_config['primary_color']
                }
            }

             !important;
        }
    }

    @media (max-width: 471px) {
        .mega-nav1 {
            color: {
                    {
                    $web_config['primary_color']
                }
            }

             !important;
        }

        .mega-nav1 .nav-link {
            color: {
                    {
                    $web_config['primary_color']
                }
            }

             !important;
        }
    }

    /**/
</style>



    
<!-- Page Content-->
<div class="__inline-61">
                <!-- Hero (Banners + Slider)-->
    <section class="bg-transparent">
            <div>
                <div class="px-0 home-carousel-container">
    <div class="hero-banner owl-carousel owl-theme h-full">
                <a href="" class="d-block h-full">
            <img class="w-100" onerror="this.src='https://medplusnig.com/public/assets/front-end/img/image-place-holder.png'"
                src="https://medplusnig.com/storage/app/public/banner/2024-08-05-66b1096a24d9c.webp" alt="">
        </a>
                <a href="" class="d-block h-full">
            <img class="w-100" onerror="this.src='https://medplusnig.com/public/assets/front-end/img/image-place-holder.png'"
                src="https://medplusnig.com/storage/app/public/banner/2024-06-28-667ea649437ab.webp" alt="">
        </a>
                <a href="" class="d-block h-full">
            <img class="w-100" onerror="this.src='https://medplusnig.com/public/assets/front-end/img/image-place-holder.png'"
                src="https://medplusnig.com/storage/app/public/banner/2024-08-05-66b1096a24d9c.webp" alt="">
        </a>
            </a>
        <a href="" class="d-block h-full">
            <img class="w-100" onerror="this.src='https://medplusnig.com/public/assets/front-end/img/image-place-holder.png'"
            src="https://medplusnig.com/storage/app/public/banner/2024-08-05-66b1096a24d9c.webp" alt="">
        </a>
            </div>
        </div>            
    </div>
    </section>



    <!-- New Arrival Section -->
<section class="container mx-auto py-12">
    <div class="flex items-center justify-between mb-4">
      <div class="text-[24px]">New Arrival</div>
      <!--'all_products'View All-->

    </div>
    <div class="grid grid-cols-2 md:grid-cols-3 xl:grid-cols-5 gap-x-1.5 gap-y-5 md:gap-x-3.5 md:gap-y-12">
      
      
    {% for product in new_arrivals %}
    {% if product.available %}
      <form class="relative" id="form-{{ product.id }}">
        {% csrf_token %}
        <input type="hidden" name="product_id" value="{{ product.id }}">
        <input type="hidden" name="quantity" value="1" min="1" max="{{ product.stock }}">
  
        <div class="border border-[#75869D]/50 bg-white h-[200px] md:h-[230px] w-full flex items-center justify-center p-2.5 md:p-5 rounded-[14px] relative">
          <a href="{{ product.url }}" class="h-full">

            {% if product.image %}
                <img src="{{ product.image.url }}" alt="{{ product.name }}" onerror="this.src='https://medplusnig.com/public/assets/front-end/img/image-place-holder.png'" width="234" height="270" class="w-[234px] h-full object-contain"/>
            {% else %}
                <p>No image available</p>
            {% endif %}
            </a>
        </div>
  
        <div class="w-[160px] lg:w-[230px] mt-1.5 font-poppins text-[14px] md:text-base">
          <a href="{{ product.url }}" class="flash-product-title fw-semibold text-black">{{ product.name }}</a>
        </div>
  
        <div class="d-flex flex-wrap gap-8 align-items-center row-gap-0 text-black font-bold text-base md:text-xl my-1.5 md:my-2">
          <span class="flash-product-price text-dark fw-semibold">₦{{ product.price }}</span>
        </div>
  
        <div class="flex items-center text-sm md:text-base 2xl:text-xl whitespace-nowrap">
          <div class="flex items-center gap-1 md:gap-2">
            <button onclick="quickView('{{ product.id }}')" type="button" class="h-10 text-[#75869D] border-[1px] border-[#75869D] transition duration-500 px-[10px] md:px-5 flex items-center justify-center font-medium tracking-[0.18px] font-poppins rounded-md">View</button>
            <button onclick="addTobeBought({{ product.id }})" type="button" class="h-10 text-white bg-[#FF0077] transition duration-500 px-[10px] md:px-5 flex items-center justify-center hover:text-white hover:border-[#FF0077] hover:bg-[#FF0077] font-medium tracking-[0.18px] font-poppins rounded-md">Add To Cart</button>
          </div>
        </div>
      </form>
      {% endif %}
      {% endfor %}
    </div>
</section>
  

    <!-- Most Popular Section -->
<section class="container mx-auto py-12">

    <div class="flex items-center justify-between mt-12 mb-4">
      <div class="text-[24px]">Most Popular</div>
      <!--'all_products'View All-->
    </div>
    <div class="grid grid-cols-2 md:grid-cols-3 xl:grid-cols-5 gap-x-1.5 gap-y-5 md:gap-x-3.5 md:gap-y-12">
      {% for product in most_popular %}
      {% if product.available %}

        <form class="relative" id="form-{{ product.id }}">
        {% csrf_token %}
        <input type="hidden" name="product_id" value="{{ product.id }}">
        <input type="hidden" name="quantity" value="1" min="1" max="{{ product.stock }}">
  
        <div class="border border-[#75869D]/50 bg-white h-[200px] md:h-[230px] w-full flex items-center justify-center p-2.5 md:p-5 rounded-[14px] relative">
          <a href="{{ product.url }}" class="h-full">
            <img src="{{ product.image.url }}" alt="{{ product.name }}" onerror="this.src='https://medplusnig.com/public/assets/front-end/img/image-place-holder.png'" width="234" height="270" class="w-[234px] h-full object-contain"/>
          </a>
        </div>
  
        <div class="w-[160px] lg:w-[230px] mt-1.5 font-poppins text-[14px] md:text-base">
          <a href="{{ product.url }}" class="flash-product-title fw-semibold text-black">{{ product.name }}</a>
        </div>
  
        <div class="d-flex flex-wrap gap-8 align-items-center row-gap-0 text-black font-bold text-base md:text-xl my-1.5 md:my-2">
          <span class="flash-product-price text-dark fw-semibold">₦{{ product.price }}</span>
        </div>
  
        <div class="flex items-center text-sm md:text-base 2xl:text-xl whitespace-nowrap">
          <div class="flex items-center gap-1 md:gap-2">
            <button onclick="quickView('{{ product.id }}')" type="button" class="h-10 text-[#75869D] border-[1px] border-[#75869D] transition duration-500 px-[10px] md:px-5 flex items-center justify-center font-medium tracking-[0.18px] font-poppins rounded-md">View</button>
            <button onclick="addTobeBought({{ product.id }})" type="button" class="h-10 text-white bg-[#FF0077] transition duration-500 px-[10px] md:px-5 flex items-center justify-center hover:text-white hover:border-[#FF0077] hover:bg-[#FF0077] font-medium tracking-[0.18px] font-poppins rounded-md">Add To Cart</button>
          </div>
        </div>
      </form>
      {% endif %}
      {% endfor %}
    </div>
</section>
  



<!--FREQUENTLY ASKED QUESTIONS-->

    <section id="faq" class="py-10 container mx-auto">
      <div class="text-center text-xl md:text-[28px] mb-6">
        Frequently Asked Question
      </div>
                <div class="mt-3 faq-div">
            <button
              class="accordion-button bg-white border-[1px] border-[#75869D] rounded-[14px] py-[16px] px-[16px] flex items-center text-sm md:text-base justify-between w-full"
            >
              <span>GENERAL COMPANY INFORMATION</span>
              <img src="https://medplusnig.com/public/assets/front-end/img/arrow_down_circle.svg" alt="arrow" />
            </button>
            <div class="accordion-content hidden py-4 px-2">I have a question about one of your pharmaceutical products. Visit the Products Section on this Web site to find a list of many of our products. If you are a Customer seeking medical information about our prescription products, please contact us</div>
          </div>
                <div class="mt-3 faq-div">
            <button
              class="accordion-button bg-white border-[1px] border-[#75869D] rounded-[14px] py-[16px] px-[16px] flex items-center text-sm md:text-base justify-between w-full"
            >
              <span>What is Jolly Life's phone number?</span>
              <img src="https://medplusnig.com/public/assets/front-end/img/arrow_down_circle.svg" alt="arrow" />
            </button>
            <div class="accordion-content hidden py-4 px-2">Call/Whatsapp - 08115174429</div>
          </div>
                <div class="mt-3 hidden extra-faq faq-div">
            <button
              class="accordion-button bg-white border-[1px] border-[#75869D] rounded-[14px] py-[16px] px-[16px] flex items-center text-sm md:text-base justify-between w-full"
            >
              <span>How do I find information about Jolly Life Healthcare stores across Nigeria?</span>
              <img src="https://medplusnig.com/public/assets/front-end/img/arrow_down_circle.svg" alt="arrow" />
            </button>
            <div class="accordion-content hidden py-4 px-2">You can find information about Jolly Life Healthcare stores by visiting the store locator on the Websites.</div>
          
                <div class="mt-3 hidden extra-faq faq-div">
            <button
              class="accordion-button bg-white border-[1px] border-[#75869D] rounded-[14px] py-[16px] px-[16px] flex items-center text-sm md:text-base justify-between w-full"
            >
              <span>WEB SITE FEEDBACK</span>
              <img src="https://medplusnig.com/public/assets/front-end/img/arrow_down_circle.svg" alt="arrow" />
            </button>
            <div class="accordion-content hidden py-4 px-2">Please use our contact form to report a Web site problem or make suggestions to improve the Medplus Web site. Although your message is important to us and we read all messages, you may not receive a personal reply due to the large volume of messages we receive. Go to Contact Us form</div>
          </div>
                <div class="mt-3 hidden extra-faq faq-div">
            <button
              class="accordion-button bg-white border-[1px] border-[#75869D] rounded-[14px] py-[16px] px-[16px] flex items-center text-sm md:text-base justify-between w-full"
            >
              <span>Product Information Contacts</span>
              <img src="https://medplusnig.com/public/assets/front-end/img/arrow_down_circle.svg" alt="arrow" />
            </button>
            <div class="accordion-content hidden py-4 px-2">Consumers who have general product-related questions, please call 0818-712-2408 Monday through Friday 9:00am to 6:00pm. If you are a Customer seeking medical information about our prescription products, please contact any of our nearest stores.</div>
          
            <div class="flex justify-center mt-4">
          <button id="viewMoreBtn" class="h-10 text-white bg-[#FF0077] transition duration-500 px-[10px] md:px-5 flex items-center justify-center hover:text-white hover:border-[#FF0077] hover:bg-[#FF0077] font-medium tracking-[0.18px] font-poppins rounded-md">View More</button>
      </div>
    </section>
    
    <span id="update_nav_cart_url" data-url="https://medplusnig.com/cart/nav-cart-items"></span>
    <span id="remove_from_cart_url" data-url="https://medplusnig.com/cart/remove"></span>
    <span id="update_quantity_url" data-url="https://medplusnig.com/cart/updateQuantity-guest"></span>
    <span id="order_again_url" data-url="https://medplusnig.com/cart/order-again"></span>
    <!-- Footer-->
    
    <!-- Toolbar for handheld devices-->

    <!-- Back To Top Button-->
    <a class="btn-scroll-top btn--primary" href="#top" data-scroll>
        <span class="btn-scroll-top-tooltip text-muted font-size-sm mr-2">Top</span><i
            class="btn-scroll-top-icon czi-arrow-up"> </i>
    </a>

    
</body>


<!-- Add this script at the end of your template -->
<script>
  function addTobeBought(productId) {
    console.log('Function called with productId:', productId);
    
    const form = document.getElementById(`form-${productId}`);
    console.log('Form found:', form);
    
    const formData = new FormData(form);
    console.log('FormData created:');
    
    // Debugging the contents of FormData
    for (let pair of formData.entries()) {
        console.log(`${pair[0]}: ${pair[1]}`);
    }

    fetch("{% url 'add_to_cart' %}", {
        method: "POST",
        body: formData,
        headers: {
            "X-CSRFToken": formData.get("csrfmiddlewaretoken")
        }
    })
    .then(response => {
        console.log('Response received:', response);
        return response.json();
    })
    .then(data => {
        console.log('Data received:', data);
        if (data.success) {
            alert("Product added to cart successfully!");
            // Update cart quantity or any other UI changes here
        } else {
            alert("Failed to add product to cart.");
        }
    })
    .catch(error => console.error('Error:', error));
}

</script>
{% endblock %}
  <!-- ================================
  End Content
  ================================= -->
<!--<script>
    function addToCart(productId) {
        const csrftoken = document.querySelector('[name=csrfmiddlewaretoken]').value;
        fetch('{% url "add_to_cart" %}', {
            method: 'POST',
            headers: {
                'X-CSRFToken': csrftoken,
                'Content-Type': 'application/x-www-form-urlencoded'
            },
            body: new URLSearchParams({
                'product_id': productId,
                'quantity': 1
            })
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                alert('Product added to cart!');
            } else {
                alert('Failed to add product to cart.');
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
    }
</script>

-->

